curl -O https://releases.hashicorp.com/terraform/0.12.13/terraform_0.12.13_linux_amd64.zip
export PATH="$PATH:/home/ubuntu/terraform"

Install jenkins
sudo apt install openjdk-8-jdk
wget -q -O - https://pkg.jenkins.io/debian/jenkins-ci.org.key | sudo apt-key add -
sudo sh -c 'echo deb http://pkg.jenkins.io/debian-stable binary/ > /etc/apt/sources.list.d/jenkins.list'
sudo apt-get update
sudo apt-get install jenkins

install packer
curl -O https://releases.hashicorp.com/packer/1.4.5/packer_1.4.5_linux_amd64.zip
export PATH="$PATH:/home/ubuntu/packer"

create ami

packer build ami.json

cm
Test_123
access_id
AKIATTBUSM2QZYRIY3U4
secretacces
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



https://github.com/Badskhiff/test/archive/master.zip

terraform init

terraform get

terraform plan

terraform apply

terraform destroy


Jenkins123

terraform state list aws_vpc.test_vpc

echo aws_vpc.test_vpc | terraform console


echo terraform state list aws_vpc.test_vpc >test 2>&1

No state file was found!

def outfile = 'stdout.out'
def status = sh(script:"echo aws_vpc.test_vpc | terraform console >test 2>&1", returnStatus:true)
def output = readFile(outfile).trim()
if (status == 0) {
    echo 1
} else {
    echo 2
}


test
AKIATTBUSM2QTQ2B2D4D
wTTDEyA05TfaaoE4og3VkmXGXihaUEvOdUWPhJFh

[default]
aws_access_key_id=AKIATTBUSM2QZYRIY3U4
aws_secret_access_key=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

file("/home/ubuntu/key/cred")